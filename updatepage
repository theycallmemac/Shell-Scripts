OPTION=$1 
PAGE=$2

#sets the directory you store your files in, html, css, js, etc.
cd $HOME/Documents/Website/

#list
if [ "$PAGE" == "-l" ]; then
	echo -e "\nHere is the list of files you can update:\n"
	echo -e "html files:"
	ls *.html
	echo -e "\ncss files:"
	ls *.css
	echo -e "\njs files:"
	ls *.js
	echo -e "\n"
	exit 0
fi

#help
if [ "$OPTION" == "-h" ]; then
	echo -e "NAME"
	echo -e "	updatepage - updates website page using a given argument\n"
	echo -e "SYNOPSIS"
	echo -e "	updatepage [OPTION]... [FILE]...\n"
	echo -e "DESCRIPTION"
	echo -e "	-a, --all"
	echo -e "		updates all html, css and js files\n"
	echo -e "	-l, --list"
	echo -e "		lists the files you can use from your set directory\n"
	exit 0
fi

#all
if [ "$OPTION" == "-a" ]; then
	for filename in *.html;
	do 
		sshpass -p 'exhem96w' scp -r $filename mcdermj7@student.computing.dcu.ie:~/public_html; 
		echo -e "Updated $filename\n"
	done

	for filename in *.css;
	do 
		sshpass -p 'exhem96w' scp -r $filename mcdermj7@student.computing.dcu.ie:~/public_html; 
		echo -e "Updated $filename\n"
	done

	for filename in *.js;
	do 
		sshpass -p 'exhem96w' scp -r $filename mcdermj7@student.computing.dcu.ie:~/public_html; 
		echo -e "Updated $filename\n"
	done
	echo -e 'Done\n'
fi


if [ ! -e "$OPTION" ]; then
	PAGE=$1
fi


if [ -e "$PAGE.html" ]; then
	sshpass -p 'exhem96w' scp -r $PAGE.html mcdermj7@student.computing.dcu.ie:~/public_html
	echo $PAGE.html has been updated!
	exit 0
fi

if [ -e "$PAGE.css" ]; then
	cp $PAGE.css $HOME/Documents/Backups/WebsiteBackup/
	sshpass -p 'exhem96w' scp -r $PAGE.css mcdermj7@student.computing.dcu.ie:~/public_html
	echo $PAGE.css has been updated!
	exit 0
fi


if [ -e "$PAGE.js" ]; then
	cp $PAGE.js $HOME/Documents/Backups/WebsiteBackup/
	sshpass -p 'exhem96w' scp -r $PAGE.js mcdermj7@student.computing.dcu.ie:~/public_html
	echo $PAGE.js has been updated!
	exit 0
fi
