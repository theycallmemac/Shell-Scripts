
#!/bin/bash

# unifies both updatepage and pushimage

OPTION=$1
FILENAME=$2

#set the directory you store your files in, html, css, js, etc.

DIR=$HOME/Documents/Website/

cd $DIR
if [ $OPTION == -a ]; then
	for file in *;
		do
			sshpass -p 'password' scp -r $file mcdermj7@student.computing.dcu.ie:~/public_html;
			echo -e "\nUpdated $file"
		done
fi


if [ $OPTION == -m ]; then
	if [ -e "$FILENAME.jpg" ]; then
		sshpass -p 'password' scp -r $FILENAME.jpg mcdermj7@student.computing.dcu.ie:~/public_html
		echo $FILENAME.jpg has been uploaded!
		exit 0
	fi

	if [ -e "$FILENAME.jpeg" ]; then
		sshpass -p 'password' scp -r $FILENAME.jpeg mcdermj7@student.computing.dcu.ie:~/public_html
		echo $FILENAME.jpeg has been uploaded!
		exit 0
	fi

	if [ -e "$FILENAME.png" ]; then
		sshpass -p 'password' scp -r $FILENAME.png mcdermj7@student.computing.dcu.ie:~/public_html
		echo $FILENAME.png has been uploaded!
		exit 0
	fi

	if [ -e "$FILENAME.pdf" ]; then
		sshpass -p 'password' scp -r $FILENAME.pdf mcdermj7@student.computing.dcu.ie:~/public_html
		echo $FILENAME.pdf has been uploaded!
		exit 0
	fi

	if [ -e "$FILENAME.gif" ]; then
		sshpass -p 'password' scp -r $FILENAME.gif mcdermj7@student.computing.dcu.ie:~/public_html
		echo $FILENAME.gif has been uploaded!
		exit 0
	fi

fi


#list option
if [ "$OPTION" == "-l" ]; then

	echo -e "\nHere is the list of files you can update:\n"

	echo -e "\nhtml files:"
	ls *.html 2>/dev/null


	echo -e "\ncss files:"
	ls *.css 2>/dev/null


	echo -e "\njs files:"
	ls *.js 2>/dev/null


	echo -e "\njpg:"
	ls *.jpg 2>/dev/null


	echo -e "\njpeg:"
	ls *.jpeg 2>/dev/null


	echo -e "\npng:"
	ls *.png 2>/dev/null


	echo -e "\ngif:"
	ls *.gif 2>/dev/null


	echo -e "\npdf:"
	ls *.pdf 2>/dev/null

	exit 0

fi

#help
if [ "$OPTION" == "-h" ]; then
	echo -e "NAME"
	echo -e "	push - updates website files and media\n"
	echo -e "SYNOPSIS"
	echo -e "	push [-ahlm]... [FILE]...\n"
	echo -e "DESCRIPTION"
	echo -e "	Default usage with no option is for updating a specific html, css or js file:- push [FILE]\n"
	echo -e "	-a	To update all files in use:- push -a\n"
	echo -e "	-h	Shows how to use the program:- push -h\n"
	echo -e "	-l	Lists the files you can use from your set directory just use:- push -l\n"
	echo -e "	-m	To update certain media files use:- push -m [FILE]\n"
	exit 0
fi

if [ ! -e "$OPTION" ]; then
	FILENAME=$1
fi


if [ -e "$FILENAME.html" ]; then
	sshpass -p 'password' scp -r $FILENAME.html mcdermj7@student.computing.dcu.ie:~/public_html
	echo $FILENAME.html has been updated!
	exit 0
fi

if [ -e "$FILENAME.css" ]; then
	sshpass -p 'password' scp -r $FILENAME.css mcdermj7@student.computing.dcu.ie:~/public_html
	echo $FILENAME.css has been updated!
	exit 0
fi


if [ -e "$FILENAME.js" ]; then
	sshpass -p 'password' scp -r $FILENAME.js mcdermj7@student.computing.dcu.ie:~/public_html
	echo $FILENAME.js has been updated!
	exit 0
fi
